<!DOCTYPE html>
<html>
    <head>
        <title>My experiment</title>
        <script src="https://unpkg.com/jspsych@7.3.3"></script>
        <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
        <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
        <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
        <script src="jspsych/modified-image-plugins.js"></script>
        <script src="sentences2.js"></script>
        <script src="association2.js"></script>
        <script src="priming2.js"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-multi-select@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@1.1.2"></script>
        <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.3"></script>
        <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.2"></script>

    </head>
    <body></body>
    <script>
    var jsPsych = initJsPsych();

var age_gender_edu = {
  type: jsPsychSurveyText,
  questions: [
    {prompt: "What is your age?", name: 'age', required: true},
    {prompt: "What is your gender?", name: 'gender', required: true},
    {prompt: "How many years of formal education have you had? (consider graduating high school to be 12 years)", name: 'education', required: true}
  ],
  };

  var race = {
  type: jsPsychSurveyMultiSelect,
  questions: [
    {
      prompt: "Please select all the racial categories that apply to you:", 
      options: ["American Indian/Alaskan Native", "Asian", "Black/African American", "Native Hawaiian or Other Pacific Islander ", "White/Caucasian", "More than once race"," Other"], 
      vertical: true,
      required: true,
      name: 'racial categories'
    }, 
    {
      prompt: "Are you of Hispanic, Latino/a/x or of Spanish origin?", 
      options: ["Yes", "No"], 
      horizontal: true,
      required: true,
      name: 'origin'
    }
  ], 
  randomize_question_order: false
};

var hand = {
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "What is your dominant hand?", 
      name: 'hand',
      options: ["Right", "Left", " Ambidextrous"], 
      vertical: true,
      required: true,
    }
  ], 
};

var timeofday = {
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Please indicate what time of the day you feel most alert:", 
      name: 'time',
      options: ["Morning", "Afternoon", " Evening", "No differences"], 
      vertical: true,
      required: true,
    }
  ], 
  randomize_question_order: false
};

var language = {
  type: jsPsychSurveyMultiChoice,
  questions: [
    {
      prompt: "Is English your first language?", 
      name: 'language',
      options: ["Yes", "No"], 
      vertical: true,
      required: true,
    }
  ], 

  
  on_finish: function(data) {
    if (data.response['language'] && data.response['language'] === 'No') {
        jsPsych.addNodeToEndOfTimeline(language2);
    }
}
};

var language2 = {
  type: jsPsychSurveyText,
  questions: [
    {prompt: "What is your first language?", name: 'firstlanguage'},
    {prompt: "At what age did you learn English?", name: 'agefirstlanguage'}
  ]
};

var performance1 = {
  type: jsPsychSurveyText,
  questions: [
    {prompt: "Is there anything else we should know about, which might have affected your performance during the experiment? (e.g., lack of sleep, feeling ill etc.)", name: 'performace'},
  ],
  };
  
var followup_proc = {
  timeline: [age_gender_edu, race, hand, timeofday, language, performance1],
  randomize_order: true
}
  
jsPsych.run([followup_proc]);
    </script>
</html>